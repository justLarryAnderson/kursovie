-- Создание таблиц
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    telegram_id INTEGER UNIQUE,
    full_name VARCHAR(100),
    apartment_number INTEGER,
    phone_number VARCHAR(20)
);

CREATE TABLE payments (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    month VARCHAR(7),
    debt DECIMAL(10,2),
    paid BOOLEAN DEFAULT FALSE
);

CREATE TABLE applications (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    type VARCHAR(50),
    description TEXT,
    status VARCHAR(20) DEFAULT 'pending'
);

CREATE TABLE meters (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    type VARCHAR(50),
    value DECIMAL(10,2),
    date DATE DEFAULT CURRENT_DATE
);

-- Вставка данных
INSERT INTO users (telegram_id, full_name, apartment_number, phone_number) VALUES
(123456789, 'Иванов Иван Иванович', 1, '+79111111111'),
(987654321, 'Петров Петр Петрович', 2, '+79222222222'),
(111111111, 'Сидорова Мария Ивановна', 3, '+79333333333'),
(222222222, 'Кузнецов Алексей Владимирович', 4, '+79444444444'),
(333333333, 'Смирнова Ольга Петровна', 5, '+79555555555'),
(444444444, 'Васильев Дмитрий Николаевич', 6, '+79666666666'),
(555555555, 'Николаева Екатерина Сергеевна', 7, '+79777777777'),
(666666666, 'Морозов Андрей Викторович', 8, '+79888888888'),
(777777777, 'Павлова Анна Дмитриевна', 9, '+79999999999'),
(888888888, 'Федоров Сергей Иванович', 10, '+79000000000'),
(999999999, 'Жукова Людмила Павловна', 11, '+79011111111'),
(101010101, 'Громов Павел Олегович', 12, '+79022222222'),
(121212121, 'Белова Татьяна Владимировна', 13, '+79033333333'),
(131313131, 'Комаров Виктор Степанович', 14, '+79044444444'),
(141414141, 'Орлова Надежда Александровна', 15, '+79055555555'),
(151515151, 'Лебедев Михаил Юрьевич', 16, '+79066666666'),
(161616161, 'Соколова Ирина Вадимовна', 17, '+79077777777'),
(171717171, 'Новиков Артем Геннадьевич', 18, '+79088888888'),
(181818181, 'Волкова Елена Станиславовна', 19, '+79099999999'),
(191919191, 'Алексеев Роман Денисович', 20, '+79100000000');

INSERT INTO payments (user_id, month, debt, paid) VALUES
(1, '2024-01', 3500.00, true),
(1, '2024-02', 3200.00, false),
(2, '2024-01', 2800.00, true),
(2, '2024-02', 2700.00, true),
(3, '2024-01', 4200.00, false),
(4, '2024-01', 3900.00, true),
(5, '2024-01', 3100.00, true),
(6, '2024-01', 3600.00, false),
(7, '2024-01', 2900.00, true),
(8, '2024-01', 3300.00, true),
(9, '2024-01', 4100.00, false),
(10, '2024-01', 3800.00, true),
(11, '2024-01', 3000.00, true),
(12, '2024-01', 3400.00, false),
(13, '2024-01', 3700.00, true),
(14, '2024-01', 3200.00, true),
(15, '2024-01', 3500.00, false),
(16, '2024-01', 3900.00, true),
(17, '2024-01', 2800.00, true),
(18, '2024-01', 4200.00, false);

INSERT INTO applications (user_id, type, description, status) VALUES
(1, 'сантехника', 'Протекает кран на кухне', 'completed'),
(2, 'электрика', 'Не работает розетка в ванной', 'in_progress'),
(3, 'отопление', 'Холодная батарея в спальне', 'pending'),
(4, 'уборка', 'Засор в мусоропроводе', 'completed'),
(5, 'ремонт', 'Трещина в стене на балконе', 'pending'),
(6, 'сантехника', 'Слабый напор воды', 'in_progress'),
(7, 'электрика', 'Мигает свет в коридоре', 'completed'),
(8, 'отопление', 'Шум в системе отопления', 'pending'),
(9, 'уборка', 'Не убирается подвал', 'completed'),
(10, 'ремонт', 'Отклеиваются обои', 'in_progress'),
(11, 'сантехника', 'Забит слив в раковине', 'pending'),
(12, 'электрика', 'Не работает выключатель', 'completed'),
(13, 'отопление', 'Не регулируется температура', 'in_progress'),
(14, 'уборка', 'Мусор на лестничной клетке', 'pending'),
(15, 'ремонт', 'Расшаталась дверная ручка', 'completed'),
(16, 'сантехника', 'Подтекает унитаз', 'in_progress'),
(17, 'электрика', 'Отсутствует свет в люстре', 'pending'),
(18, 'отопление', 'Холодно в детской комнате', 'completed'),
(19, 'уборка', 'Не вывозится мусор', 'in_progress'),
(20, 'ремонт', 'Требуется покраска перил', 'pending');

INSERT INTO meters (user_id, type, value) VALUES
(1, 'холодная вода', 125.50),
(1, 'горячая вода', 85.20),
(2, 'холодная вода', 98.30),
(2, 'горячая вода', 67.80),
(3, 'холодная вода', 142.10),
(4, 'холодная вода', 117.40),
(5, 'горячая вода', 79.60),
(6, 'холодная вода', 131.20),
(7, 'горячая вода', 92.40),
(8, 'холодная вода', 108.70),
(9, 'горячая вода', 88.90),
(10, 'холодная вода', 135.80),
(11, 'горячая вода', 76.30),
(12, 'холодная вода', 121.60),
(13, 'горячая вода', 83.70),
(14, 'холодная вода', 127.90),
(15, 'горячая вода', 91.20),
(16, 'холодная вода', 115.40),
(17, 'горячая вода', 87.50),
(18, 'холодная вода', 139.30);